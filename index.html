<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ ‚Äî —Ç—Ä–µ–Ω–∞–∂—ë—Ä</title>
  <style>
    :root {
      color-scheme: light dark;
      --bg: #f5f5f7;
      --card-bg: #ffffff;
      --text: #111111;
      --muted: #555555;
      --accent: #0066cc;
      --accent-contrast: #ffffff;
      --shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
      --border: rgba(0, 0, 0, 0.08);
      --badge-correct: #0f9153;
      --badge-wrong: #d33f49;
      --input-bg: rgba(255, 255, 255, 0.8);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #111114;
        --card-bg: #1c1c20;
        --text: #f5f5f7;
        --muted: #b0b0b5;
        --accent: #5aa9ff;
        --accent-contrast: #031328;
        --shadow: 0 20px 50px rgba(0, 0, 0, 0.45);
        --border: rgba(255, 255, 255, 0.12);
        --badge-correct: #38c682;
        --badge-wrong: #ff6b73;
        --input-bg: rgba(28, 28, 32, 0.9);
      }
    }

    [data-theme="light"] {
      --bg: #f5f5f7;
      --card-bg: #ffffff;
      --text: #111111;
      --muted: #555555;
      --accent: #0066cc;
      --accent-contrast: #ffffff;
      --shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
      --border: rgba(0, 0, 0, 0.08);
      --badge-correct: #0f9153;
      --badge-wrong: #d33f49;
      --input-bg: rgba(255, 255, 255, 0.8);
    }

    [data-theme="dark"] {
      --bg: #111114;
      --card-bg: #1c1c20;
      --text: #f5f5f7;
      --muted: #b0b0b5;
      --accent: #5aa9ff;
      --accent-contrast: #031328;
      --shadow: 0 20px 50px rgba(0, 0, 0, 0.45);
      --border: rgba(255, 255, 255, 0.12);
      --badge-correct: #38c682;
      --badge-wrong: #ff6b73;
      --input-bg: rgba(28, 28, 32, 0.9);
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
    }

    body {
      display: flex;
      flex-direction: column;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1rem;
      padding: clamp(1.5rem, 4vw, 2.5rem);
      max-width: 960px;
      margin: 0 auto;
    }

    .brand h1 {
      font-size: clamp(1.75rem, 4vw, 2.5rem);
      font-weight: 600;
      margin: 0 0 0.25rem;
    }

    .brand p {
      margin: 0;
      color: var(--muted);
      font-size: 0.95rem;
    }

    #themeToggle {
      align-self: center;
      border: 1px solid var(--border);
      background: var(--card-bg);
      color: var(--text);
      border-radius: 999px;
      padding: 0.45rem 0.85rem;
      font-size: 1.3rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
      transition: background 0.3s ease, color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
    }

    #themeToggle:hover {
      box-shadow: 0 14px 30px rgba(0, 0, 0, 0.12);
      transform: translateY(-1px);
    }

    #themeToggle:active {
      transform: translateY(1px);
    }

    main {
      flex: 1;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0 1rem 3rem;
    }

    .card {
      background: var(--card-bg);
      border-radius: 20px;
      box-shadow: var(--shadow);
      padding: clamp(1.5rem, 4vw, 2.75rem);
      width: min(100%, 720px);
      margin: clamp(0.5rem, 4vw, 2rem) auto;
      border: 1px solid var(--border);
      transition: background 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
    }

    .round-meta {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
    }

    .round-count {
      font-size: 0.95rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
    }

    .round-count strong {
      color: var(--text);
    }

    progress {
      width: 100%;
      height: 10px;
      border: none;
      border-radius: 999px;
      background-color: rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    progress::-webkit-progress-bar {
      background-color: rgba(0, 0, 0, 0.1);
      border-radius: 999px;
    }

    progress::-webkit-progress-value {
      background-color: var(--accent);
      border-radius: 999px;
      transition: width 0.4s ease;
    }

    progress::-moz-progress-bar {
      background-color: var(--accent);
      border-radius: 999px;
    }

    .question-block {
      margin-bottom: 2rem;
    }

    .question-label {
      margin: 0 0 0.75rem;
      font-size: 1.05rem;
      color: var(--muted);
    }

    .question-main {
      margin: 0;
      font-size: clamp(2.2rem, 6vw, 3.5rem);
      font-weight: 600;
      letter-spacing: -0.02em;
    }

    .question-main.fr-text {
      text-transform: none;
    }

    .phonetics {
      margin-top: 1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      font-size: 0.95rem;
      color: var(--muted);
    }

    .phonetics span {
      padding: 0.3rem 0.6rem;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.06);
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    label {
      font-weight: 500;
    }

    input[type="text"],
    input[type="number"] {
      font-size: 1.2rem;
      padding: 0.85rem 1rem;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: var(--input-bg);
      color: var(--text);
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    input[type="text"]:focus,
    input[type="number"]:focus {
      outline: 3px solid rgba(0, 102, 204, 0.25);
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.15);
    }

    .hint {
      margin: 0;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .error-message {
      color: var(--badge-wrong);
      font-size: 0.9rem;
      margin: -0.5rem 0 0;
    }

    button.primary {
      align-self: flex-start;
      padding: 0.85rem 1.8rem;
      font-size: 1.05rem;
      border-radius: 999px;
      border: none;
      background: var(--accent);
      color: var(--accent-contrast);
      cursor: pointer;
      box-shadow: 0 14px 30px rgba(0, 102, 204, 0.2);
      transition: transform 0.2s ease, box-shadow 0.3s ease, background 0.3s ease;
    }

    button.primary:hover {
      box-shadow: 0 18px 40px rgba(0, 102, 204, 0.28);
      transform: translateY(-1px);
    }

    button.primary:active {
      transform: translateY(1px);
    }

    .badge {
      display: inline-flex;
      align-items: center;
      padding: 0.3rem 0.9rem;
      border-radius: 999px;
      font-size: 0.95rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      margin-bottom: 1rem;
    }

    .badge.correct {
      background: rgba(15, 145, 83, 0.12);
      color: var(--badge-correct);
    }

    .badge.incorrect {
      background: rgba(211, 63, 73, 0.12);
      color: var(--badge-wrong);
    }

    .result-details {
      display: grid;
      gap: 1rem;
      font-size: 0.95rem;
      color: var(--muted);
    }

    .result-details dt {
      font-weight: 600;
      color: var(--text);
    }

    .result-details dd {
      margin: 0;
    }

    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-top: 2rem;
    }

    button.secondary {
      padding: 0.8rem 1.4rem;
      font-size: 1rem;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text);
      cursor: pointer;
      transition: background 0.2s ease, box-shadow 0.2s ease;
    }

    button.secondary:hover {
      background: rgba(0, 0, 0, 0.08);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
    }

    thead {
      background: rgba(0, 0, 0, 0.05);
    }

    th, td {
      text-align: left;
      padding: 0.75rem 0.5rem;
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    }

    tbody tr:last-child td {
      border-bottom: none;
    }

    .table-wrapper {
      overflow-x: auto;
      margin-top: 1.5rem;
    }

    .question-preview {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .status-flag.correct {
      color: var(--badge-correct);
      font-weight: 600;
    }

    .status-flag.incorrect {
      color: var(--badge-wrong);
      font-weight: 600;
    }

    footer {
      padding: 2rem 1rem 3rem;
      text-align: center;
      color: var(--muted);
      font-size: 0.85rem;
    }

    .visually-hidden {
      position: absolute !important;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }

    @media (min-width: 768px) {
      .result-details {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }
  </style>
</head>
<body>
  <header class="top-bar">
    <div class="brand">
      <h1>–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ</h1>
      <p>—Ç—Ä–µ–Ω–∞–∂—ë—Ä –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è 1‚Äì100</p>
    </div>
    <button id="themeToggle" type="button" aria-pressed="false" aria-label="–¢–µ–º–∞: —Å–≤–µ—Ç–ª–∞—è">
      <span id="themeIcon" aria-hidden="true">‚òÄÔ∏è</span>
      <span class="visually-hidden" id="themeStatus" aria-live="polite"></span>
    </button>
  </header>
  <main>
    <section id="gameCard" class="card" aria-live="polite"></section>
  </main>
  <footer>
    –°–¥–µ–ª–∞–Ω–æ —Å –∑–∞–±–æ—Ç–æ–π –æ–± –∏–∑—É—á–∞—é—â–∏—Ö —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫.
  </footer>
  <div id="globalAnnouncer" class="visually-hidden" aria-live="polite"></div>
  <script>
    // ===================== –î–∞–Ω–Ω—ã–µ =====================
    /**
     * –ü–æ–ª–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —á–∏—Å–µ–ª 1‚Äì100: –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ, IPA –∏ —Ä—É—Å—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
     * @type {{value: number, word: string, ipa: string, ruPhon: string}[]}
     */
    const numberDictionary = [
      { value: 1, word: "un", ipa: "/≈ìÃÉ/", ruPhon: "—ç–Ω" },
      { value: 2, word: "deux", ipa: "/d√∏/", ruPhon: "–¥—ë" },
      { value: 3, word: "trois", ipa: "/t Åw…ë/", ruPhon: "—Ç—Ä—É–∞" },
      { value: 4, word: "quatre", ipa: "/kat Å/", ruPhon: "–∫–∞—Ç—Ä" },
      { value: 5, word: "cinq", ipa: "/s…õÃÉk/", ruPhon: "—Å—ç–Ω–∫" },
      { value: 6, word: "six", ipa: "/sis/", ruPhon: "—Å–∏—Å" },
      { value: 7, word: "sept", ipa: "/s…õt/", ruPhon: "—Å–µ—Ç" },
      { value: 8, word: "huit", ipa: "/…•it/", ruPhon: "—é–π—Ç" },
      { value: 9, word: "neuf", ipa: "/n≈ìf/", ruPhon: "–Ω—ë—Ñ" },
      { value: 10, word: "dix", ipa: "/dis/", ruPhon: "–¥–∏—Å" },
      { value: 11, word: "onze", ipa: "/…îÃÉz/", ruPhon: "–æ–Ω–∑" },
      { value: 12, word: "douze", ipa: "/duz/", ruPhon: "–¥—É–∑" },
      { value: 13, word: "treize", ipa: "/t Å…õz/", ruPhon: "—Ç—Ä—ç–∑" },
      { value: 14, word: "quatorze", ipa: "/ka.t…î Åz/", ruPhon: "–∫–∞—Ç–æ—Ä–∑" },
      { value: 15, word: "quinze", ipa: "/k…õÃÉz/", ruPhon: "–∫—ç–Ω–∑" },
      { value: 16, word: "seize", ipa: "/s…õz/", ruPhon: "—Å—ç–∑" },
      { value: 17, word: "dix-sept", ipa: "/dis.s…õt/", ruPhon: "–¥–∏—Å—Å–µ—Ç" },
      { value: 18, word: "dix-huit", ipa: "/diz.…•it/", ruPhon: "–¥–∏–∑—é–π—Ç" },
      { value: 19, word: "dix-neuf", ipa: "/diz.n≈ìf/", ruPhon: "–¥–∏–∑–Ω—ë—Ñ" },
      { value: 20, word: "vingt", ipa: "/v…õÃÉ/", ruPhon: "–≤—ç–Ω" },
      { value: 21, word: "vingt et un", ipa: "/v…õÃÉ.te.≈ìÃÉ/", ruPhon: "–≤—ç–Ω-—Ç—ç-—ç–Ω" },
      { value: 22, word: "vingt-deux", ipa: "/v…õÃÉ.d√∏/", ruPhon: "–≤—ç–Ω-–¥—ë" },
      { value: 23, word: "vingt-trois", ipa: "/v…õÃÉ.t Åw…ë/", ruPhon: "–≤—ç–Ω-—Ç—Ä—É–∞" },
      { value: 24, word: "vingt-quatre", ipa: "/v…õÃÉ.kat Å/", ruPhon: "–≤—ç–Ω-–∫–∞ÃÅ—Ç—Ä" },
      { value: 25, word: "vingt-cinq", ipa: "/v…õÃÉ.s…õÃÉk/", ruPhon: "–≤—ç–Ω-—Å—ç–Ω–∫" },
      { value: 26, word: "vingt-six", ipa: "/v…õÃÉ.sis/", ruPhon: "–≤—ç–Ω-—Å–∏—Å" },
      { value: 27, word: "vingt-sept", ipa: "/v…õÃÉ.s…õt/", ruPhon: "–≤—ç–Ω-—Å–µ—Ç" },
      { value: 28, word: "vingt-huit", ipa: "/v…õÃÉ.…•it/", ruPhon: "–≤—ç–Ω-—é–π—Ç" },
      { value: 29, word: "vingt-neuf", ipa: "/v…õÃÉ.n≈ìf/", ruPhon: "–≤—ç–Ω-–Ω—ë—Ñ" },
      { value: 30, word: "trente", ipa: "/t Å…ëÃÉt/", ruPhon: "—Ç—Ä–∞–Ω—Ç" },
      { value: 31, word: "trente et un", ipa: "/t Å…ëÃÉ.te.≈ìÃÉ/", ruPhon: "—Ç—Ä–∞–Ω—Ç-—Ç—ç-—ç–Ω" },
      { value: 32, word: "trente-deux", ipa: "/t Å…ëÃÉ.d√∏/", ruPhon: "—Ç—Ä–∞–Ω-–¥—ë" },
      { value: 33, word: "trente-trois", ipa: "/t Å…ëÃÉ.t Åw…ë/", ruPhon: "—Ç—Ä–∞–Ω-—Ç—Ä—É–∞" },
      { value: 34, word: "trente-quatre", ipa: "/t Å…ëÃÉ.kat Å/", ruPhon: "—Ç—Ä–∞–Ω-–∫–∞ÃÅ—Ç—Ä" },
      { value: 35, word: "trente-cinq", ipa: "/t Å…ëÃÉ.s…õÃÉk/", ruPhon: "—Ç—Ä–∞–Ω-—Å—ç–Ω–∫" },
      { value: 36, word: "trente-six", ipa: "/t Å…ëÃÉ.sis/", ruPhon: "—Ç—Ä–∞–Ω-—Å–∏—Å" },
      { value: 37, word: "trente-sept", ipa: "/t Å…ëÃÉ.s…õt/", ruPhon: "—Ç—Ä–∞–Ω-—Å–µ—Ç" },
      { value: 38, word: "trente-huit", ipa: "/t Å…ëÃÉ.…•it/", ruPhon: "—Ç—Ä–∞–Ω-—é–π—Ç" },
      { value: 39, word: "trente-neuf", ipa: "/t Å…ëÃÉ.n≈ìf/", ruPhon: "—Ç—Ä–∞–Ω-–Ω—ë—Ñ" },
      { value: 40, word: "quarante", ipa: "/ka. Å…ëÃÉt/", ruPhon: "–∫–∞—Ä–∞–Ω—Ç" },
      { value: 41, word: "quarante et un", ipa: "/ka. Å…ëÃÉ.te.≈ìÃÉ/", ruPhon: "–∫–∞—Ä–∞–Ω—Ç-—Ç—ç-—ç–Ω" },
      { value: 42, word: "quarante-deux", ipa: "/ka. Å…ëÃÉ.d√∏/", ruPhon: "–∫–∞—Ä–∞–Ω-–¥—ë" },
      { value: 43, word: "quarante-trois", ipa: "/ka. Å…ëÃÉ.t Åw…ë/", ruPhon: "–∫–∞—Ä–∞–Ω-—Ç—Ä—É–∞" },
      { value: 44, word: "quarante-quatre", ipa: "/ka. Å…ëÃÉ.kat Å/", ruPhon: "–∫–∞—Ä–∞–Ω-–∫–∞ÃÅ—Ç—Ä" },
      { value: 45, word: "quarante-cinq", ipa: "/ka. Å…ëÃÉ.s…õÃÉk/", ruPhon: "–∫–∞—Ä–∞–Ω-—Å—ç–Ω–∫" },
      { value: 46, word: "quarante-six", ipa: "/ka. Å…ëÃÉ.sis/", ruPhon: "–∫–∞—Ä–∞–Ω-—Å–∏—Å" },
      { value: 47, word: "quarante-sept", ipa: "/ka. Å…ëÃÉ.s…õt/", ruPhon: "–∫–∞—Ä–∞–Ω-—Å–µ—Ç" },
      { value: 48, word: "quarante-huit", ipa: "/ka. Å…ëÃÉ.…•it/", ruPhon: "–∫–∞—Ä–∞–Ω-—é–π—Ç" },
      { value: 49, word: "quarante-neuf", ipa: "/ka. Å…ëÃÉ.n≈ìf/", ruPhon: "–∫–∞—Ä–∞–Ω-–Ω—ë—Ñ" },
      { value: 50, word: "cinquante", ipa: "/s…õÃÉ.k…ëÃÉt/", ruPhon: "—Å—ç–Ω–∫–∞–Ω—Ç" },
      { value: 51, word: "cinquante et un", ipa: "/s…õÃÉ.k…ëÃÉ.te.≈ìÃÉ/", ruPhon: "—Å—ç–Ω–∫–∞–Ω—Ç-—Ç—ç-—ç–Ω" },
      { value: 52, word: "cinquante-deux", ipa: "/s…õÃÉ.k…ëÃÉ.d√∏/", ruPhon: "—Å—ç–Ω–∫–∞–Ω-–¥—ë" },
      { value: 53, word: "cinquante-trois", ipa: "/s…õÃÉ.k…ëÃÉ.t Åw…ë/", ruPhon: "—Å—ç–Ω–∫–∞–Ω-—Ç—Ä—É–∞" },
      { value: 54, word: "cinquante-quatre", ipa: "/s…õÃÉ.k…ëÃÉ.kat Å/", ruPhon: "—Å—ç–Ω–∫–∞–Ω-–∫–∞ÃÅ—Ç—Ä" },
      { value: 55, word: "cinquante-cinq", ipa: "/s…õÃÉ.k…ëÃÉ.s…õÃÉk/", ruPhon: "—Å—ç–Ω–∫–∞–Ω-—Å—ç–Ω–∫" },
      { value: 56, word: "cinquante-six", ipa: "/s…õÃÉ.k…ëÃÉ.sis/", ruPhon: "—Å—ç–Ω–∫–∞–Ω-—Å–∏—Å" },
      { value: 57, word: "cinquante-sept", ipa: "/s…õÃÉ.k…ëÃÉ.s…õt/", ruPhon: "—Å—ç–Ω–∫–∞–Ω-—Å–µ—Ç" },
      { value: 58, word: "cinquante-huit", ipa: "/s…õÃÉ.k…ëÃÉ.…•it/", ruPhon: "—Å—ç–Ω–∫–∞–Ω-—é–π—Ç" },
      { value: 59, word: "cinquante-neuf", ipa: "/s…õÃÉ.k…ëÃÉ.n≈ìf/", ruPhon: "—Å—ç–Ω–∫–∞–Ω-–Ω—ë—Ñ" },
      { value: 60, word: "soixante", ipa: "/swa.s…ëÃÉt/", ruPhon: "—Å—É–∞—Å–∞–Ω—Ç" },
      { value: 61, word: "soixante et un", ipa: "/swa.s…ëÃÉ.te.≈ìÃÉ/", ruPhon: "—Å—É–∞—Å–∞–Ω—Ç-—Ç—ç-—ç–Ω" },
      { value: 62, word: "soixante-deux", ipa: "/swa.s…ëÃÉ.d√∏/", ruPhon: "—Å—É–∞—Å–∞–Ω-–¥—ë" },
      { value: 63, word: "soixante-trois", ipa: "/swa.s…ëÃÉ.t Åw…ë/", ruPhon: "—Å—É–∞—Å–∞–Ω-—Ç—Ä—É–∞" },
      { value: 64, word: "soixante-quatre", ipa: "/swa.s…ëÃÉ.kat Å/", ruPhon: "—Å—É–∞—Å–∞–Ω-–∫–∞ÃÅ—Ç—Ä" },
      { value: 65, word: "soixante-cinq", ipa: "/swa.s…ëÃÉ.s…õÃÉk/", ruPhon: "—Å—É–∞—Å–∞–Ω-—Å—ç–Ω–∫" },
      { value: 66, word: "soixante-six", ipa: "/swa.s…ëÃÉ.sis/", ruPhon: "—Å—É–∞—Å–∞–Ω-—Å–∏—Å" },
      { value: 67, word: "soixante-sept", ipa: "/swa.s…ëÃÉ.s…õt/", ruPhon: "—Å—É–∞—Å–∞–Ω-—Å–µ—Ç" },
      { value: 68, word: "soixante-huit", ipa: "/swa.s…ëÃÉ.…•it/", ruPhon: "—Å—É–∞—Å–∞–Ω-—é–π—Ç" },
      { value: 69, word: "soixante-neuf", ipa: "/swa.s…ëÃÉ.n≈ìf/", ruPhon: "—Å—É–∞—Å–∞–Ω-–Ω—ë—Ñ" },
      { value: 70, word: "soixante-dix", ipa: "/swa.s…ëÃÉ.dis/", ruPhon: "—Å—É–∞—Å–∞–Ω-–¥–∏—Å" },
      { value: 71, word: "soixante et onze", ipa: "/swa.s…ëÃÉ.t‚Äøe.…îÃÉz/", ruPhon: "—Å—É–∞—Å–∞–Ω—Ç-—ç-–æ–Ω–∑" },
      { value: 72, word: "soixante-douze", ipa: "/swa.s…ëÃÉ.duz/", ruPhon: "—Å—É–∞—Å–∞–Ω-–¥—É–∑" },
      { value: 73, word: "soixante-treize", ipa: "/swa.s…ëÃÉ.t Å…õz/", ruPhon: "—Å—É–∞—Å–∞–Ω-—Ç—Ä—ç–∑" },
      { value: 74, word: "soixante-quatorze", ipa: "/swa.s…ëÃÉ.ka.t…î Åz/", ruPhon: "—Å—É–∞—Å–∞–Ω-–∫–∞—Ç–æ—Ä–∑" },
      { value: 75, word: "soixante-quinze", ipa: "/swa.s…ëÃÉ.k…õÃÉz/", ruPhon: "—Å—É–∞—Å–∞–Ω-–∫—ç–Ω–∑" },
      { value: 76, word: "soixante-seize", ipa: "/swa.s…ëÃÉ.s…õz/", ruPhon: "—Å—É–∞—Å–∞–Ω-—Å—ç–∑" },
      { value: 77, word: "soixante-dix-sept", ipa: "/swa.s…ëÃÉ.dis.s…õt/", ruPhon: "—Å—É–∞—Å–∞–Ω-–¥–∏—Å—Å–µ—Ç" },
      { value: 78, word: "soixante-dix-huit", ipa: "/swa.s…ëÃÉ.diz.…•it/", ruPhon: "—Å—É–∞—Å–∞–Ω-–¥–∏–∑—é–π—Ç" },
      { value: 79, word: "soixante-dix-neuf", ipa: "/swa.s…ëÃÉ.diz.n≈ìf/", ruPhon: "—Å—É–∞—Å–∞–Ω-–¥–∏–∑–Ω—ë—Ñ" },
      { value: 80, word: "quatre-vingts", ipa: "/kat Å…ô.v…õÃÉ/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω" },
      { value: 81, word: "quatre-vingt-un", ipa: "/kat Å…ô.v…õÃÉ.t≈ìÃÉ/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-—Ç—ç–Ω" },
      { value: 82, word: "quatre-vingt-deux", ipa: "/kat Å…ô.v…õÃÉ.d√∏/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–¥—ë" },
      { value: 83, word: "quatre-vingt-trois", ipa: "/kat Å…ô.v…õÃÉ.t Åw…ë/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-—Ç—Ä—É–∞" },
      { value: 84, word: "quatre-vingt-quatre", ipa: "/kat Å…ô.v…õÃÉ.kat Å/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–∫–∞ÃÅ—Ç—Ä" },
      { value: 85, word: "quatre-vingt-cinq", ipa: "/kat Å…ô.v…õÃÉ.s…õÃÉk/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-—Å—ç–Ω–∫" },
      { value: 86, word: "quatre-vingt-six", ipa: "/kat Å…ô.v…õÃÉ.sis/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-—Å–∏—Å" },
      { value: 87, word: "quatre-vingt-sept", ipa: "/kat Å…ô.v…õÃÉ.s…õt/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-—Å–µ—Ç" },
      { value: 88, word: "quatre-vingt-huit", ipa: "/kat Å…ô.v…õÃÉ.…•it/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-—é–π—Ç" },
      { value: 89, word: "quatre-vingt-neuf", ipa: "/kat Å…ô.v…õÃÉ.n≈ìf/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–Ω—ë—Ñ" },
      { value: 90, word: "quatre-vingt-dix", ipa: "/kat Å…ô.v…õÃÉ.dis/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–¥–∏—Å" },
      { value: 91, word: "quatre-vingt-onze", ipa: "/kat Å…ô.v…õÃÉ.t‚Äø…îÃÉz/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–æ–Ω–∑" },
      { value: 92, word: "quatre-vingt-douze", ipa: "/kat Å…ô.v…õÃÉ.duz/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–¥—É–∑" },
      { value: 93, word: "quatre-vingt-treize", ipa: "/kat Å…ô.v…õÃÉ.t Å…õz/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-—Ç—Ä—ç–∑" },
      { value: 94, word: "quatre-vingt-quatorze", ipa: "/kat Å…ô.v…õÃÉ.ka.t…î Åz/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–∫–∞—Ç–æ—Ä–∑" },
      { value: 95, word: "quatre-vingt-quinze", ipa: "/kat Å…ô.v…õÃÉ.k…õÃÉz/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–∫—ç–Ω–∑" },
      { value: 96, word: "quatre-vingt-seize", ipa: "/kat Å…ô.v…õÃÉ.s…õz/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-—Å—ç–∑" },
      { value: 97, word: "quatre-vingt-dix-sept", ipa: "/kat Å…ô.v…õÃÉ.dis.s…õt/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–¥–∏—Å—Å–µ—Ç" },
      { value: 98, word: "quatre-vingt-dix-huit", ipa: "/kat Å…ô.v…õÃÉ.diz.…•it/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–¥–∏–∑—é–π—Ç" },
      { value: 99, word: "quatre-vingt-dix-neuf", ipa: "/kat Å…ô.v…õÃÉ.diz.n≈ìf/", ruPhon: "–∫–∞—Ç—Ä-–≤—ç–Ω-–¥–∏–∑–Ω—ë—Ñ" },
      { value: 100, word: "cent", ipa: "/s…ëÃÉ/", ruPhon: "—Å–∞–Ω" }
    ];

    // ===================== –£—Ç–∏–ª–∏—Ç—ã =====================
    /**
     * –£–¥–∞–ª—è–µ—Ç –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–∏, –¥–µ—Ñ–∏—Å—ã, –ø—Ä–æ–±–µ–ª—ã –∏ –∞–ø–æ—Å—Ç—Ä–æ—Ñ—ã –∏–∑ —Å—Ç—Ä–æ–∫–∏
     * @param {string} text
     * @returns {string}
     */
    function normalizeFrench(text) {
      return text
        .toLowerCase()
        .normalize("NFD")
        .replace(/\p{Diacritic}/gu, "")
        .replace(/[‚Äô'`¬¥]/g, "")
        .replace(/-/g, "")
        .replace(/\s+/g, "")
        .replace(/≈ì/g, "oe")
        .replace(/√¶/g, "ae");
    }

    /**
     * –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤ (–§–∏—à–µ—Ä ‚Äî –ô–µ—Ç—Å)
     * @template T
     * @param {T[]} array
     * @returns {T[]}
     */
    function shuffle(array) {
      const copy = array.slice();
      for (let i = copy.length - 1; i > 0; i -= 1) {
        const j = Math.floor(Math.random() * (i + 1));
        [copy[i], copy[j]] = [copy[j], copy[i]];
      }
      return copy;
    }

    /**
     * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –≤–∏–¥–µ ¬´Xm Ys¬ª
     * @param {number} milliseconds
     * @returns {string}
     */
    function formatDuration(milliseconds) {
      const totalSeconds = Math.round(milliseconds / 1000);
      const minutes = Math.floor(totalSeconds / 60);
      const seconds = totalSeconds % 60;
      const parts = [];
      if (minutes > 0) {
        parts.push(`${minutes}–º`);
      }
      parts.push(`${seconds}—Å`);
      return parts.join(" ");
    }

    /**
     * –ö–æ–ø–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true/false –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ø–µ—Ö–∞
     * @param {string} text
     * @returns {Promise<boolean>}
     */
    async function copyToClipboard(text) {
      try {
        await navigator.clipboard.writeText(text);
        return true;
      } catch (error) {
        console.error("Clipboard error", error);
        return false;
      }
    }

    /**
     * –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ä–µ–∂–∏–º–µ —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
     * @param {{value: number, word: string}} entry
     * @param {string} userInput
     * @returns {boolean}
     */
    function isFrenchAnswerCorrect(entry, userInput) {
      const normalizedCanonical = normalizeFrench(entry.word);
      const normalizedInput = normalizeFrench(userInput);

      if (entry.value === 80) {
        const withoutS = normalizedCanonical.endsWith("s")
          ? normalizedCanonical.slice(0, -1)
          : normalizedCanonical;
        return normalizedInput === normalizedCanonical || normalizedInput === withoutS;
      }

      if (entry.value === 71) {
        const alt = normalizeFrench("soixante-et-onze");
        return normalizedInput === normalizedCanonical || normalizedInput === alt;
      }

      return normalizedInput === normalizedCanonical;
    }

    // ===================== –õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã =====================
    const TOTAL_ROUNDS = 8;

    /**
     * @typedef {Object} Question
     * @property {"toFr"|"toNumber"} mode
     * @property {{value: number, word: string, ipa: string, ruPhon: string}} entry
     */

    /**
     * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞–±–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –Ω–æ–≤–æ–π –∏–≥—Ä—ã
     * @returns {Question[]}
     */
    function generateQuestions() {
      const pool = shuffle(numberDictionary);
      const selected = pool.slice(0, TOTAL_ROUNDS);
      return selected.map((entry) => ({
        entry,
        mode: Math.random() > 0.5 ? "toFr" : "toNumber"
      }));
    }

    const gameState = {
      questions: [],
      rounds: [],
      currentRound: 0,
      currentQuestionStart: 0,
      totalTime: 0,
      gameStartedAt: 0,
      theme: "auto"
    };

    /**
     * –ó–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—É—é –∏–≥—Ä—É
     */
    function startGame() {
      gameState.questions = generateQuestions();
      gameState.rounds = [];
      gameState.currentRound = 0;
      gameState.totalTime = 0;
      gameState.gameStartedAt = performance.now();
      renderQuestion();
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É –æ—Ç–≤–µ—Ç–∞
     * @param {SubmitEvent} event
     */
    function handleAnswer(event) {
      event.preventDefault();
      const form = /** @type {HTMLFormElement} */ (event.target);
      const input = /** @type {HTMLInputElement} */ (form.querySelector("[name='answer']"));
      const errorEl = form.querySelector(".error-message");

      if (errorEl) {
        errorEl.textContent = "";
      }

      const question = gameState.questions[gameState.currentRound];
      const userAnswerRaw = input.value;

      if (question.mode === "toNumber") {
        const trimmed = userAnswerRaw.trim();
        if (!trimmed) {
          if (errorEl) {
            errorEl.textContent = "–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –∞—Ä–∞–±—Å–∫–∏–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏.";
          }
          input.focus();
          return;
        }
        if (!/^\d+$/.test(trimmed)) {
          if (errorEl) {
            errorEl.textContent = "–î–æ–ø—É—Å—Ç–∏–º—ã —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã.";
          }
          input.focus();
          return;
        }
      } else {
        if (!userAnswerRaw.trim()) {
          if (errorEl) {
            errorEl.textContent = "–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ-—Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏.";
          }
          input.focus();
          return;
        }
      }

      const endTime = performance.now();
      const duration = endTime - gameState.currentQuestionStart;
      gameState.totalTime += duration;

      let isCorrect = false;
      let correctAnswer = "";

      if (question.mode === "toFr") {
        isCorrect = isFrenchAnswerCorrect(question.entry, userAnswerRaw);
        correctAnswer = question.entry.word;
      } else {
        const numericAnswer = Number(userAnswerRaw.trim());
        isCorrect = numericAnswer === question.entry.value;
        correctAnswer = String(question.entry.value);
      }

      const roundResult = {
        index: gameState.currentRound + 1,
        question,
        userAnswer: userAnswerRaw,
        correctAnswer,
        isCorrect,
        timeSpent: duration
      };

      gameState.rounds.push(roundResult);
      gameState.currentRound += 1;

      if (gameState.currentRound >= TOTAL_ROUNDS) {
        renderRoundResult(roundResult, true);
      } else {
        renderRoundResult(roundResult, false);
      }
    }

    /**
     * –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É –ø–æ—Å–ª–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ä–∞—É–Ω–¥–∞
     */
    function proceedAfterResult() {
      if (gameState.currentRound >= TOTAL_ROUNDS) {
        renderSummary();
      } else {
        renderQuestion();
      }
    }

    // ===================== –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ =====================
    const gameCard = document.getElementById("gameCard");
    const globalAnnouncer = document.getElementById("globalAnnouncer");

    /**
     * –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –≤–æ–ø—Ä–æ—Å–∞
     */
    function renderQuestion() {
      const question = gameState.questions[gameState.currentRound];
      const roundNumber = gameState.currentRound + 1;
      const progressValue = gameState.currentRound;
      const progressLabelId = "progressLabel";

      gameCard.innerHTML = `
        <div class="round-meta">
          <div class="round-count">
            <span id="${progressLabelId}">–†–∞—É–Ω–¥ <strong>${roundNumber}</strong> –∏–∑ ${TOTAL_ROUNDS}</span>
            <span>${roundNumber}/${TOTAL_ROUNDS}</span>
          </div>
          <progress value="${progressValue}" max="${TOTAL_ROUNDS}" aria-describedby="${progressLabelId}"></progress>
        </div>
        <div class="question-block">
          ${question.mode === "toFr" ? `
            <p class="question-label">–ó–∞–ø–∏—à–∏—Ç–µ –ø–æ-—Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏:</p>
            <p class="question-main">${question.entry.value}</p>
          ` : `
            <p class="question-label">–ù–∞–ø–∏—à–∏—Ç–µ —Ü–∏—Ñ—Ä–∞–º–∏:</p>
            <p class="question-main fr-text">${question.entry.word}</p>
            <div class="phonetics">
              <span aria-label="–ú–§–ê">${question.entry.ipa}</span>
              <span aria-label="–†—É—Å—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞">${question.entry.ruPhon}</span>
            </div>
          `}
        </div>
        <form id="answerForm">
          <label for="answerInput">–í–∞—à –æ—Ç–≤–µ—Ç</label>
          <input id="answerInput" name="answer" type="text" autocomplete="off" spellcheck="false" inputmode="${question.mode === "toNumber" ? "numeric" : "latin"}" aria-describedby="hintText errorText">
          <p id="hintText" class="hint">${question.mode === "toFr" ? "–†–∞–∑—Ä–µ—à–µ–Ω—ã –±—É–∫–≤—ã, –¥–µ—Ñ–∏—Å—ã, –ø—Ä–æ–±–µ–ª—ã, –∞–ø–æ—Å—Ç—Ä–æ—Ñ—ã –∏ –∞–∫—Ü–µ–Ω—Ç—ã ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ—è–ª—å–Ω–∞." : "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Ä–∞–±—Å–∫–∏–µ —Ü–∏—Ñ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 73)."}</p>
          <p id="errorText" class="error-message" role="alert"></p>
          <button type="submit" class="primary">–û—Ç–≤–µ—Ç–∏—Ç—å</button>
        </form>
      `;

      const form = document.getElementById("answerForm");
      form.addEventListener("submit", handleAnswer);
      const input = document.getElementById("answerInput");
      input.focus();
      gameState.currentQuestionStart = performance.now();
    }

    /**
     * –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—É–Ω–¥–∞
     * @param {{index: number, question: Question, userAnswer: string, correctAnswer: string, isCorrect: boolean, timeSpent: number}} result
     * @param {boolean} isFinalStep
     */
    function renderRoundResult(result, isFinalStep) {
      const { question } = result;
      const ipaBlock = `<span aria-label="–ú–§–ê">${question.entry.ipa}</span>`;
      const ruBlock = `<span aria-label="–†—É—Å—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞">${question.entry.ruPhon}</span>`;
      const timeSpent = formatDuration(result.timeSpent);

      const answerSection = question.mode === "toFr"
        ? `<dd>${question.entry.word}</dd>`
        : `<dd>${question.entry.value}</dd>`;

      const questionDescription = question.mode === "toFr"
        ? `${question.entry.value}`
        : `${question.entry.word}`;

      gameCard.innerHTML = `
        <span class="badge ${result.isCorrect ? "correct" : "incorrect"}">
          ${result.isCorrect ? "–í–µ—Ä–Ω–æ" : "–ù–µ–≤–µ—Ä–Ω–æ"}
        </span>
        <div class="question-block">
          <p class="question-label">–í–æ–ø—Ä–æ—Å ${result.index} –∏–∑ ${TOTAL_ROUNDS}</p>
          <p class="question-main fr-text">${questionDescription}</p>
          <div class="phonetics">
            ${ipaBlock}
            ${ruBlock}
          </div>
        </div>
        <dl class="result-details">
          <div>
            <dt>–í–∞—à –æ—Ç–≤–µ—Ç</dt>
            <dd>${result.userAnswer ? result.userAnswer : "‚Äî"}</dd>
          </div>
          <div>
            <dt>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</dt>
            ${answerSection}
          </div>
          <div>
            <dt>–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞</dt>
            <dd>${timeSpent}</dd>
          </div>
        </dl>
        <div class="actions">
          <button type="button" class="primary" id="nextButton">${isFinalStep ? "–ö –∏—Ç–æ–≥–∞–º" : "–î–∞–ª—å—à–µ"}</button>
        </div>
      `;

      const nextButton = document.getElementById("nextButton");
      nextButton.addEventListener("click", proceedAfterResult);
      nextButton.focus();
    }

    /**
     * –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
     */
    function renderSummary() {
      const correctCount = gameState.rounds.filter((round) => round.isCorrect).length;
      const averageTime = gameState.rounds.length ? gameState.totalTime / gameState.rounds.length : 0;
      const averageTimeFormatted = formatDuration(averageTime);
      const totalTimeFormatted = formatDuration(gameState.totalTime);

      const rowsHtml = gameState.rounds.map((round) => {
        const question = round.question;
        const questionText = question.mode === "toFr"
          ? `${question.entry.value} ‚Üí ${question.entry.word}`
          : `${question.entry.word} ‚Üí ${question.entry.value}`;
        const phoneticsHtml = `
          <div class="phonetics">
            <span>${question.entry.ipa}</span>
            <span>${question.entry.ruPhon}</span>
          </div>
        `;
        return `
          <tr>
            <td>${round.index}</td>
            <td>
              <div class="question-preview">
                <span>${questionText}</span>
                ${phoneticsHtml}
              </div>
            </td>
            <td>${round.userAnswer ? round.userAnswer : "‚Äî"}</td>
            <td>${round.correctAnswer}</td>
            <td class="status-flag ${round.isCorrect ? "correct" : "incorrect"}">${round.isCorrect ? "‚úî" : "‚úñ"}</td>
          </tr>
        `;
      }).join("");

      gameCard.innerHTML = `
        <div class="round-meta">
          <h2 style="margin: 0; font-size: clamp(1.6rem, 3vw, 2.2rem);">–ò—Ç–æ–≥–∏ –∏–≥—Ä—ã</h2>
          <p class="hint" style="font-size: 1rem;">–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ <strong>${correctCount}</strong> –∏–∑ ${TOTAL_ROUNDS}. –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ ‚Äî ${averageTimeFormatted}.</p>
        </div>
        <dl class="result-details" style="margin-bottom: 1.5rem;">
          <div>
            <dt>–í—Å–µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö</dt>
            <dd>${correctCount}/${TOTAL_ROUNDS}</dd>
          </div>
          <div>
            <dt>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è</dt>
            <dd>${averageTimeFormatted}</dd>
          </div>
          <div>
            <dt>–û–±—â–µ–µ –≤—Ä–µ–º—è</dt>
            <dd>${totalTimeFormatted}</dd>
          </div>
        </dl>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th scope="col">‚Ññ</th>
                <th scope="col">–í–æ–ø—Ä–æ—Å</th>
                <th scope="col">–û—Ç–≤–µ—Ç</th>
                <th scope="col">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</th>
                <th scope="col">–°—Ç–∞—Ç—É—Å</th>
              </tr>
            </thead>
            <tbody>
              ${rowsHtml}
            </tbody>
          </table>
        </div>
        <div class="actions">
          <button type="button" class="primary" id="playAgain">–°—ã–≥—Ä–∞—Ç—å –µ—â—ë</button>
          <button type="button" class="secondary" id="shareResult">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
        </div>
      `;

      document.getElementById("playAgain").addEventListener("click", () => {
        startGame();
      });

      document.getElementById("shareResult").addEventListener("click", async () => {
        const text = `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${correctCount}/${TOTAL_ROUNDS} –∑–∞ ${totalTimeFormatted}`;
        const success = await copyToClipboard(text);
        if (globalAnnouncer) {
          globalAnnouncer.textContent = success ? "–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω." : "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.";
        }
      });
    }

    // ===================== –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ–º—ã =====================
    const THEME_KEY = "theme";
    const themeToggle = document.getElementById("themeToggle");
    const themeIcon = document.getElementById("themeIcon");
    const themeStatus = document.getElementById("themeStatus");

    /**
     * –ü—Ä–∏–º–µ–Ω—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é —Ç–µ–º—É
     * @param {"light"|"dark"} theme
     */
    function applyTheme(theme) {
      document.documentElement.setAttribute("data-theme", theme);
      if (themeToggle) {
        themeToggle.setAttribute("aria-pressed", theme === "dark" ? "true" : "false");
        themeToggle.setAttribute("aria-label", `–¢–µ–º–∞: ${theme === "dark" ? "—Ç—ë–º–Ω–∞—è" : "—Å–≤–µ—Ç–ª–∞—è"}`);
      }
      if (themeIcon) {
        themeIcon.textContent = theme === "dark" ? "üåô" : "‚òÄÔ∏è";
      }
      if (themeStatus) {
        themeStatus.textContent = theme === "dark" ? "–¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–∞" : "–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–∞";
      }
      gameState.theme = theme;
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
     */
    function initTheme() {
      const stored = localStorage.getItem(THEME_KEY);
      if (stored === "light" || stored === "dark") {
        applyTheme(stored);
        return;
      }
      const prefersDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
      applyTheme(prefersDark ? "dark" : "light");
    }

    if (themeToggle) {
      themeToggle.addEventListener("click", () => {
        const nextTheme = gameState.theme === "dark" ? "light" : "dark";
        applyTheme(nextTheme);
        localStorage.setItem(THEME_KEY, nextTheme);
      });
    }

    initTheme();

    // ===================== –°—Ç–∞—Ä—Ç =====================
    startGame();
  </script>
</body>
</html>
